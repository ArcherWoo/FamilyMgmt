<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APIæ¥å£æ–‡æ¡£ - å®¶åº­ç”Ÿæ´»AIåŠ©æ‰‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            color: white;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header .meta {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .header .meta span {
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .nav-breadcrumb {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px 25px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .nav-breadcrumb a {
            color: #667eea;
            text-decoration: none;
            margin-right: 10px;
        }

        .main-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #667eea;
            font-size: 1.8rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .api-endpoint {
            margin-bottom: 40px;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            overflow: hidden;
        }

        .endpoint-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .http-method {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .http-method.post {
            background: #28a745;
        }

        .http-method.get {
            background: #17a2b8;
        }

        .endpoint-url {
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            flex: 1;
        }

        .endpoint-content {
            padding: 25px;
        }

        .endpoint-description {
            color: #666;
            margin-bottom: 20px;
            font-size: 1rem;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            overflow-x: auto;
        }

        .code-block pre {
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            line-height: 1.4;
            margin: 0;
            white-space: pre-wrap;
        }

        .code-block.request {
            border-left: 4px solid #28a745;
        }

        .code-block.response {
            border-left: 4px solid #17a2b8;
        }

        .code-label {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .auth-section {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
        }

        .auth-section h3 {
            color: #d63384;
            margin-bottom: 15px;
        }

        .auth-example {
            background: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
        }

        .status-codes {
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-radius: 12px;
        }

        .status-codes h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #333;
            border: none;
            padding: 0;
        }

        .status-table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            overflow: hidden;
        }

        .status-table th {
            background: #667eea;
            color: white;
            padding: 15px;
            text-align: left;
        }

        .status-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #ddd;
        }

        .status-table tr:nth-child(even) {
            background: rgba(255, 255, 255, 0.5);
        }

        .status-code {
            font-weight: bold;
            font-family: 'Courier New', monospace;
        }

        .status-code.success { color: #28a745; }
        .status-code.client-error { color: #ffc107; }
        .status-code.server-error { color: #dc3545; }

        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #667eea;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }

        .back-to-top:hover {
            background: #5a6fd8;
            transform: translateY(-3px);
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .endpoint-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .endpoint-url {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”Œ APIæ¥å£æ–‡æ¡£</h1>
            <p>æ ¸å¿ƒAPIæ¥å£è®¾è®¡ - RESTfulè§„èŒƒï¼Œå®Œæ•´çš„æ¥å£æ–‡æ¡£</p>
            <div class="meta">
                <span>ğŸ“… ç‰ˆæœ¬: v1</span>
                <span>ğŸŒ åŸºç¡€URL: https://api.familyai.com/v1</span>
                <span>ğŸ” è®¤è¯: JWT Bearer Token</span>
            </div>
        </div>

        <div class="nav-breadcrumb">
            <a href="index.html">ğŸ  æŠ€æœ¯æ–‡æ¡£é¦–é¡µ</a> > 
            <span>ğŸ”Œ APIæ¥å£æ–‡æ¡£</span>
        </div>

        <div class="main-content">
            <div class="auth-section">
                <h3>ğŸ” è®¤è¯æˆæƒ</h3>
                <p>æ‰€æœ‰APIè¯·æ±‚éœ€è¦åœ¨Headerä¸­æºå¸¦JWT Tokenï¼š</p>
                <div class="auth-example">
Authorization: Bearer {jwt_token}
                </div>
            </div>

            <div class="section">
                <h2>ğŸ”‘ ç”¨æˆ·è®¤è¯</h2>
                
                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="http-method post">POST</span>
                        <span class="endpoint-url">/auth/login</span>
                    </div>
                    <div class="endpoint-content">
                        <div class="endpoint-description">
                            ç”¨æˆ·ç™»å½•æ¥å£ï¼Œæ”¯æŒå¾®ä¿¡ç™»å½•ï¼Œè¿”å›JWT Token
                        </div>
                        
                        <div class="code-label">è¯·æ±‚ç¤ºä¾‹:</div>
                        <div class="code-block request">
                            <pre>{
  "login_type": "wechat",
  "code": "wx_auth_code",
  "user_info": {
    "nickname": "ç”¨æˆ·æ˜µç§°",
    "avatar_url": "å¤´åƒURL"
  }
}</pre>
                        </div>

                        <div class="code-label">å“åº”ç¤ºä¾‹:</div>
                        <div class="code-block response">
                            <pre>{
  "code": 200,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
    "refresh_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
    "expires_in": 7200,
    "user": {
      "id": "uuid",
      "username": "ç”¨æˆ·å",
      "nickname": "æ˜µç§°",
      "avatar_url": "å¤´åƒURL"
    }
  }
}</pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>ğŸ¤– AIå¯¹è¯æ¥å£</h2>
                
                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="http-method post">POST</span>
                        <span class="endpoint-url">/chat/send</span>
                    </div>
                    <div class="endpoint-content">
                        <div class="endpoint-description">
                            å‘é€æ¶ˆæ¯ç»™AIåŠ©æ‰‹ï¼Œè·å–æ™ºèƒ½å›å¤
                        </div>
                        
                        <div class="code-label">è¯·æ±‚ç¤ºä¾‹:</div>
                        <div class="code-block request">
                            <pre>{
  "session_id": "uuid",
  "message": "ä»Šå¤©æƒ³åƒæ¸…æ·¡ä¸€ç‚¹çš„ï¼Œæœ‰ä»€ä¹ˆæ¨èå—ï¼Ÿ",
  "context_type": "food",
  "family_id": "uuid"
}</pre>
                        </div>

                        <div class="code-label">å“åº”ç¤ºä¾‹:</div>
                        <div class="code-block response">
                            <pre>{
  "code": 200,
  "message": "æ¶ˆæ¯å‘é€æˆåŠŸ",
  "data": {
    "message_id": "uuid",
    "session_id": "uuid",
    "response": {
      "content": "æ ¹æ®æ‚¨çš„éœ€æ±‚ï¼Œæˆ‘ä¸ºæ‚¨æ¨èå‡ é“æ¸…æ·¡çš„èœå“...",
      "type": "text",
      "suggestions": [
        {
          "type": "recipe",
          "title": "è’¸è›‹ç¾¹",
          "description": "å«©æ»‘æ¸…é¦™ï¼Œè¥å…»ä¸°å¯Œ"
        }
      ]
    },
    "ai_model": "zhipu-glm4",
    "tokens_used": 150,
    "response_time": 2500
  }
}</pre>
                        </div>
                    </div>
                </div>

                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="http-method get">GET</span>
                        <span class="endpoint-url">/chat/sessions/{session_id}/messages</span>
                    </div>
                    <div class="endpoint-content">
                        <div class="endpoint-description">
                            è·å–ä¼šè¯å†å²æ¶ˆæ¯ï¼Œæ”¯æŒåˆ†é¡µ
                        </div>
                        
                        <div class="code-label">è¯·æ±‚å‚æ•°:</div>
                        <div class="code-block request">
                            <pre>?page=1&limit=20</pre>
                        </div>

                        <div class="code-label">å“åº”ç¤ºä¾‹:</div>
                        <div class="code-block response">
                            <pre>{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "messages": [
      {
        "id": "uuid",
        "message_type": "user",
        "content": "ä»Šå¤©æƒ³åƒæ¸…æ·¡ä¸€ç‚¹çš„",
        "created_at": "2025-06-27T10:00:00Z"
      },
      {
        "id": "uuid",
        "message_type": "assistant",
        "content": "æˆ‘ä¸ºæ‚¨æ¨èå‡ é“æ¸…æ·¡èœå“...",
        "metadata": {
          "suggestions": []
        },
        "created_at": "2025-06-27T10:00:03Z"
      }
    ],
    "pagination": {
      "page": 1,
      "limit": 20,
      "total": 45,
      "has_more": true
    }
  }
}</pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>ğŸ½ï¸ é¥®é£Ÿè§„åˆ’æ¥å£</h2>
                
                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="http-method post">POST</span>
                        <span class="endpoint-url">/meal-plans</span>
                    </div>
                    <div class="endpoint-content">
                        <div class="endpoint-description">
                            åˆ›å»ºé¥®é£Ÿè®¡åˆ’ï¼ŒAIè‡ªåŠ¨ç”Ÿæˆè¥å…»æ­é…
                        </div>
                        
                        <div class="code-label">è¯·æ±‚ç¤ºä¾‹:</div>
                        <div class="code-block request">
                            <pre>{
  "title": "æœ¬å‘¨å¥åº·é¥®é£Ÿè®¡åˆ’",
  "description": "ä½è„‚é«˜è›‹ç™½é¥®é£Ÿ",
  "plan_type": "weekly",
  "start_date": "2025-06-27",
  "end_date": "2025-07-03",
  "target_calories": 1800,
  "dietary_goals": ["å‡è„‚", "å¢è‚Œ"],
  "restrictions": ["æ— è¾£", "å°‘æ²¹"],
  "family_id": "uuid"
}</pre>
                        </div>

                        <div class="code-label">å“åº”ç¤ºä¾‹:</div>
                        <div class="code-block response">
                            <pre>{
  "code": 200,
  "message": "åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": "uuid",
    "title": "æœ¬å‘¨å¥åº·é¥®é£Ÿè®¡åˆ’",
    "status": "active",
    "meals": [
      {
        "date": "2025-06-27",
        "breakfast": {
          "recipe_id": "uuid",
          "name": "ç‡•éº¦ç²¥é…æ°´æœ",
          "calories": 300
        },
        "lunch": {
          "recipe_id": "uuid",
          "name": "é¸¡èƒ¸è‚‰æ²™æ‹‰",
          "calories": 450
        },
        "dinner": {
          "recipe_id": "uuid",
          "name": "è’¸è›‹ç¾¹é…é’èœ",
          "calories": 350
        }
      }
    ],
    "created_at": "2025-06-27T10:00:00Z"
  }
}</pre>
                        </div>
                    </div>
                </div>

                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="http-method post">POST</span>
                        <span class="endpoint-url">/meal-plans/{plan_id}/shopping-list</span>
                    </div>
                    <div class="endpoint-content">
                        <div class="endpoint-description">
                            æ ¹æ®é¥®é£Ÿè®¡åˆ’ç”Ÿæˆè´­ç‰©æ¸…å•ï¼Œé›†æˆè´­ç‰©å¹³å°
                        </div>

                        <div class="code-label">å“åº”ç¤ºä¾‹:</div>
                        <div class="code-block response">
                            <pre>{
  "code": 200,
  "message": "ç”ŸæˆæˆåŠŸ",
  "data": {
    "id": "uuid",
    "title": "æœ¬å‘¨é‡‡è´­æ¸…å•",
    "items": [
      {
        "name": "é¸¡èƒ¸è‚‰",
        "quantity": "500g",
        "category": "è‚‰ç±»",
        "estimated_price": 25.00,
        "shops": [
          {
            "platform": "æ·˜å®",
            "price": 24.80,
            "url": "https://..."
          }
        ]
      }
    ],
    "total_amount": 156.80,
    "created_at": "2025-06-27T10:00:00Z"
  }
}</pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>ğŸƒ è¿åŠ¨æ¨èæ¥å£</h2>
                
                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="http-method post">POST</span>
                        <span class="endpoint-url">/exercise-plans</span>
                    </div>
                    <div class="endpoint-content">
                        <div class="endpoint-description">
                            åˆ›å»ºä¸ªæ€§åŒ–è¿åŠ¨è®¡åˆ’ï¼ŒåŸºäºç”¨æˆ·å¥åº·æ•°æ®
                        </div>
                        
                        <div class="code-label">è¯·æ±‚ç¤ºä¾‹:</div>
                        <div class="code-block request">
                            <pre>{
  "title": "å‡è„‚å¡‘å½¢è®¡åˆ’",
  "fitness_goal": "å‡è„‚",
  "difficulty_level": 3,
  "duration_weeks": 4,
  "available_time": {
    "days_per_week": 3,
    "minutes_per_session": 45
  },
  "equipment": ["å“‘é“ƒ", "ç‘œä¼½å«"],
  "limitations": ["è†ç›–ä¸é€‚"]
}</pre>
                        </div>

                        <div class="code-label">å“åº”ç¤ºä¾‹:</div>
                        <div class="code-block response">
                            <pre>{
  "code": 200,
  "message": "åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": "uuid",
    "title": "å‡è„‚å¡‘å½¢è®¡åˆ’",
    "exercises": [
      {
        "week": 1,
        "day": 1,
        "workout": {
          "warm_up": [
            {
              "name": "åŠ¨æ€æ‹‰ä¼¸",
              "duration": 5,
              "description": "å…¨èº«åŠ¨æ€æ‹‰ä¼¸åŠ¨ä½œ"
            }
          ],
          "main_workout": [
            {
              "name": "æ·±è¹²",
              "sets": 3,
              "reps": 15,
              "rest": 60,
              "description": "æ³¨æ„è†ç›–ä¸è¦è¶…è¿‡è„šå°–"
            }
          ]
        }
      }
    ],
    "created_at": "2025-06-27T10:00:00Z"
  }
}</pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>ğŸ‘” ç©¿æ­å»ºè®®æ¥å£</h2>
                
                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="http-method post">POST</span>
                        <span class="endpoint-url">/outfit/suggestions</span>
                    </div>
                    <div class="endpoint-content">
                        <div class="endpoint-description">
                            è·å–æ™ºèƒ½ç©¿æ­å»ºè®®ï¼ŒåŸºäºå¤©æ°”å’Œåœºåˆ
                        </div>
                        
                        <div class="code-label">è¯·æ±‚ç¤ºä¾‹:</div>
                        <div class="code-block request">
                            <pre>{
  "date": "2025-06-27",
  "occasions": ["å·¥ä½œ", "å¥èº«"],
  "weather_location": "åŒ—äº¬å¸‚",
  "style_preferences": ["ç®€çº¦", "èˆ’é€‚"],
  "color_preferences": ["é»‘è‰²", "ç™½è‰²", "ç°è‰²"]
}</pre>
                        </div>

                        <div class="code-label">å“åº”ç¤ºä¾‹:</div>
                        <div class="code-block response">
                            <pre>{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "date": "2025-06-27",
    "weather": {
      "temperature": "15-22Â°C",
      "condition": "å¤šäº‘",
      "humidity": "60%"
    },
    "suggestions": [
      {
        "occasion": "å·¥ä½œ",
        "outfit": {
          "top": {
            "type": "è¡¬è¡«",
            "color": "ç™½è‰²",
            "description": "ç™½è‰²é•¿è¢–è¡¬è¡«"
          },
          "bottom": {
            "type": "è¥¿è£…è£¤",
            "color": "æ·±è“è‰²",
            "description": "æ·±è“è‰²è¥¿è£…è£¤"
          }
        },
        "tips": "ä»Šå¤©æ¸©åº¦é€‚ä¸­ï¼Œå»ºè®®å†…æ­å¯ä»¥é€‰æ‹©è–„æ¬¾"
      }
    ]
  }
}</pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ å®¶åº­åä½œæ¥å£</h2>
                
                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="http-method post">POST</span>
                        <span class="endpoint-url">/families</span>
                    </div>
                    <div class="endpoint-content">
                        <div class="endpoint-description">
                            åˆ›å»ºå®¶åº­ï¼Œæ”¯æŒå¤šæˆå‘˜åä½œ
                        </div>
                        
                        <div class="code-label">è¯·æ±‚ç¤ºä¾‹:</div>
                        <div class="code-block request">
                            <pre>{
  "name": "å¼ å®¶å¤§é™¢",
  "description": "æˆ‘ä»¬çš„æ¸©é¦¨å°å®¶",
  "settings": {
    "sharing_level": "full",
    "notification_enabled": true
  }
}</pre>
                        </div>
                    </div>
                </div>

                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <span class="http-method post">POST</span>
                        <span class="endpoint-url">/families/{family_id}/invite</span>
                    </div>
                    <div class="endpoint-content">
                        <div class="endpoint-description">
                            é‚€è¯·å®¶åº­æˆå‘˜ï¼Œç”Ÿæˆé‚€è¯·ç 
                        </div>

                        <div class="code-label">å“åº”ç¤ºä¾‹:</div>
                        <div class="code-block response">
                            <pre>{
  "code": 200,
  "message": "é‚€è¯·åˆ›å»ºæˆåŠŸ",
  "data": {
    "invite_code": "FAM123456",
    "expires_at": "2025-07-04T10:00:00Z",
    "invite_url": "https://app.familyai.com/join/FAM123456"
  }
}</pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="status-codes">
                <h2>ğŸ“ çŠ¶æ€ç è¯´æ˜</h2>
                <table class="status-table">
                    <thead>
                        <tr>
                            <th>çŠ¶æ€ç </th>
                            <th>è¯´æ˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="status-code success">200</span></td>
                            <td>è¯·æ±‚æˆåŠŸ</td>
                        </tr>
                        <tr>
                            <td><span class="status-code success">201</span></td>
                            <td>åˆ›å»ºæˆåŠŸ</td>
                        </tr>
                        <tr>
                            <td><span class="status-code client-error">400</span></td>
                            <td>è¯·æ±‚å‚æ•°é”™è¯¯</td>
                        </tr>
                        <tr>
                            <td><span class="status-code client-error">401</span></td>
                            <td>æœªæˆæƒ</td>
                        </tr>
                        <tr>
                            <td><span class="status-code client-error">403</span></td>
                            <td>æƒé™ä¸è¶³</td>
                        </tr>
                        <tr>
                            <td><span class="status-code client-error">404</span></td>
                            <td>èµ„æºä¸å­˜åœ¨</td>
                        </tr>
                        <tr>
                            <td><span class="status-code client-error">429</span></td>
                            <td>è¯·æ±‚é¢‘ç‡é™åˆ¶</td>
                        </tr>
                        <tr>
                            <td><span class="status-code server-error">500</span></td>
                            <td>æœåŠ¡å™¨å†…éƒ¨é”™è¯¯</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div style="text-align: center; color: white; padding: 20px; opacity: 0.8;">
            <p>ğŸ“– æœ¬APIæ–‡æ¡£å°†æ ¹æ®åŠŸèƒ½è¿­ä»£æŒç»­æ›´æ–°</p>
            <p>ğŸ”„ æœ€åæ›´æ–°: 2025-06-27 | ğŸ“‹ ç‰ˆæœ¬: v2.0</p>
        </div>
    </div>

    <a href="#" class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'}); return false;">â†‘</a>
</body>
</html>
